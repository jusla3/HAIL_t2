/*!
 * Name    : Flickr's Justified Gallery [fjGallery]
 * Version : 1.0.1
 * Author  : nK <https://nkdev.info>
 * GitHub  : https://github.com/nk-o/flickr-justified-gallery
 */!function(i){var o={};function n(t){if(o[t])return o[t].exports;var e=o[t]={i:t,l:!1,exports:{}};return i[t].call(e.exports,e,e.exports,n),e.l=!0,e.exports}n.m=i,n.c=o,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=3)}([function(i,t,e){"use strict";(function(t){var e;e="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},i.exports=e}).call(t,e(5))},function(t,e,i){"use strict";(function(i){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};
/*!
 * @name JavaScript/NodeJS Merge v1.2.0
 * @author yeikos
 * @repository https://github.com/yeikos/js.merge

 * Copyright 2014 yeikos - MIT license
 * https://raw.github.com/yeikos/js.merge/master/LICENSE
 */!function(t){var u=function(t){return e(!0===t,!1,arguments)};function l(t,e){if("object"!==h(t))return e;for(var i in e)"object"===h(t[i])&&"object"===h(e[i])?t[i]=l(t[i],e[i]):t[i]=e[i];return t}function e(t,e,i){var o=i[0],n=i.length;(t||"object"!==h(o))&&(o={});for(var r=0;r<n;++r){var a=i[r];if("object"===h(a))for(var s in a){var c=t?u.clone(a[s]):a[s];o[s]=e?l(o[s],c):c}}return o}function h(t){return{}.toString.call(t).slice(8,-1).toLowerCase()}u.recursive=function(t){return e(!0===t,!0,arguments)},u.clone=function(t){var e,i,o=t,n=h(t);if("array"===n)for(o=[],i=t.length,e=0;e<i;++e)o[e]=u.clone(t[e]);else if("object"===n)for(e in o={},t)o[e]=u.clone(t[e]);return o},t?i.exports=u:window.merge=u}("object"===t(i)&&i&&"object"===t(i.exports)&&i.exports)}).call(e,i(8)(t))},function(t,e,i){"use strict";t.exports=function(t){"complete"===document.readyState||"interactive"===document.readyState?t.call():document.attachEvent?document.attachEvent("onreadystatechange",function(){"interactive"===document.readyState&&t.call()}):document.addEventListener&&document.addEventListener("DOMContentLoaded",t)}},function(t,e,i){t.exports=i(4)},function(t,e,i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n=s(i(2)),r=i(0),a=s(i(6));function s(t){return t&&t.__esModule?t:{default:t}}var c=r.window.fjGallery;if(r.window.fjGallery=a.default,r.window.fjGallery.noConflict=function(){return r.window.fjGallery=c,this},void 0!==r.jQuery){var u=function(){var t=arguments||[];Array.prototype.unshift.call(t,this);var e=a.default.apply(r.window,t);return"object"!==(void 0===e?"undefined":o(e))?e:this};u.constructor=a.default.constructor;var l=r.jQuery.fn.fjGallery;r.jQuery.fn.fjGallery=u,r.jQuery.fn.fjGallery.noConflict=function(){return r.jQuery.fn.fjGallery=l,this}}(0,n.default)(function(){(0,a.default)(document.querySelectorAll(".fj-gallery"))})},function(t,e,i){"use strict";var o,n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};o=function(){return this}();try{o=o||Function("return this")()||(0,eval)("this")}catch(t){"object"===("undefined"==typeof window?"undefined":n(window))&&(o=window)}t.exports=o},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(){function o(t,e){for(var i=0;i<e.length;i++){var o=e[i];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}return function(t,e,i){return e&&o(t.prototype,e),i&&o(t,i),t}}(),s=h(i(7)),c=h(i(1)),n=h(i(2)),r=h(i(9)),u=h(i(10)),l=i(0);function h(t){return t&&t.__esModule?t:{default:t}}var f=[];function d(){(0,r.default)(function(){f.forEach(function(t){t.resize()})})}l.window.addEventListener("resize",d),l.window.addEventListener("orientationchange",d),l.window.addEventListener("load",d),(0,n.default)(function(){d()});var p=0,g=function(){function r(t,e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,r);var i=this;i.instanceID=p++,i.$container=t,i.images=[],i.defaults={itemSelector:".fj-gallery-item",imageSelector:"img",gutter:10,rowHeight:320,rowHeightTolerance:.25,resizeThrottle:200,onInit:null,onDestroy:null,onAppendImages:null,onBeforeJustify:null,onJustify:null};var o=i.$container.dataset||{},n={};Object.keys(o).forEach(function(t){var e=t.substr(0,1).toLowerCase()+t.substr(1);e&&void 0!==i.defaults[e]&&(n[e]=o[t])}),i.options=(0,c.default)({},i.defaults,n,e),i.pureOptions=(0,c.default)({},i.options),i.resize=(0,s.default)(i.options.resizeThrottle,i.resize),i.init()}return o(r,[{key:"css",value:function(e,i){return"string"==typeof i?l.window.getComputedStyle(e).getPropertyValue(i):(i.transform&&(i["-webkit-transform"]=i.transform),Object.keys(i).forEach(function(t){e.style[t]=i[t]}),e)}},{key:"addToFjGalleryList",value:function(){f.push(this),d()}},{key:"removeFromFjGalleryList",value:function(){var i=this;f.forEach(function(t,e){t.instanceID===i.instanceID&&f.splice(e,1)})}},{key:"init",value:function(){var t=this;t.appendImages(t.$container.querySelectorAll(t.options.itemSelector)),t.addToFjGalleryList(),t.options.onInit&&t.options.onInit.call(t)}},{key:"appendImages",value:function(t){var f=this;l.window.jQuery&&t instanceof l.window.jQuery&&(t=t.get()),t&&t.length&&(t.forEach(function(t){if(t&&!t.fjGalleryImage&&t.querySelector){var h=t.querySelector(f.options.imageSelector);if(h){t.fjGalleryImage=f;var e={$item:t,$image:h,width:parseFloat(h.getAttribute("width"))||!1,height:parseFloat(h.getAttribute("height"))||!1,loadSizes:function(){var t,e,i,o,n,r,a,s,c,u,l=this;t=h,i=void 0,n=o=!(e=function(t){l.width===t.width&&l.height===t.height||(l.width=t.width,l.height=t.height,f.resize())}),r=function(){o?e(o):(o={width:t.naturalWidth,height:t.naturalHeight},e(o),clearInterval(i),n&&u())},a=function(){r()},s=function(){r()},u=function(){n=!1,t.removeEventListener("load",a),t.removeEventListener("error",s)},(c=function(){0<t.naturalWidth&&r()})(),o||(n=!0,t.addEventListener("load",a),t.addEventListener("error",s),i=setInterval(c,100))}};e.loadSizes(),f.images.push(e)}}}),f.options.onAppendImages&&f.options.onAppendImages.call(f,[t]),f.justify())}},{key:"justify",value:function(){var e=this,i=[];e.options.onBeforeJustify&&e.options.onBeforeJustify.call(e),e.images.forEach(function(t){t.width&&t.height&&i.push(t.width/t.height)});var o=(0,u.default)(i,{containerWidth:e.$container.getBoundingClientRect().width,containerPadding:{top:parseFloat(e.css(e.$container,"padding-top"))||0,right:parseFloat(e.css(e.$container,"padding-right"))||0,bottom:parseFloat(e.css(e.$container,"padding-bottom"))||0,left:parseFloat(e.css(e.$container,"padding-left"))||0},boxSpacing:e.options.gutter,targetRowHeight:e.options.rowHeight,targetRowHeightTolerance:e.options.rowHeightTolerance});e.css(e.$container,{height:o.containerHeight+"px"});var n=0;e.images.forEach(function(t){t.width&&t.height&&(e.css(t.$item,{position:"absolute",transform:"translateX("+o.boxes[n].left+"px) translateY("+o.boxes[n].top+"px) translateZ(0)",width:o.boxes[n].width+"px",height:o.boxes[n].height+"px"}),n++)}),e.options.onJustify&&e.options.onJustify.call(e)}},{key:"updateOptions",value:function(t){this.options=(0,c.default)({},this.options,t),this.justify()}},{key:"destroy",value:function(){var e=this;e.removeFromFjGalleryList(),e.options.onDestroy&&e.options.onDestroy.call(e),e.css(e.$container,{height:""}),e.images.forEach(function(t){e.css(t.$item,{position:"",transform:"",width:"",height:""})}),e.images.forEach(function(t){delete t.$item.fjGalleryImage}),delete e.$container.fjGallery}},{key:"resize",value:function(){this.justify()}}]),r}(),y=function(t){("object"===("undefined"==typeof HTMLElement?"undefined":a(HTMLElement))?t instanceof HTMLElement:t&&"object"===(void 0===t?"undefined":a(t))&&null!==t&&1===t.nodeType&&"string"==typeof t.nodeName)&&(t=[t]);for(var e=arguments[1],i=Array.prototype.slice.call(arguments,2),o=t.length,n=0,r=void 0;n<o;n++)if("object"===(void 0===e?"undefined":a(e))||void 0===e?t[n].fjGallery||(t[n].fjGallery=new g(t[n],e)):t[n].fjGallery&&(r=t[n].fjGallery[e].apply(t[n].fjGallery,i)),void 0!==r)return r;return t};y.constructor=g,e.default=y},function(t,e,i){"use strict";t.exports=function(n,r,a,s){var c,u=0;return"boolean"!=typeof r&&(s=a,a=r,r=void 0),function(){var t=this,e=Number(new Date)-u,i=arguments;function o(){u=Number(new Date),a.apply(t,i)}s&&!c&&o(),c&&clearTimeout(c),void 0===s&&n<e?o():!0!==r&&(c=setTimeout(s?function(){c=void 0}:o,void 0===s?n-e:n))}}},function(t,e,i){"use strict";t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,i){"use strict";var o=i(0),n=o.requestAnimationFrame||o.webkitRequestAnimationFrame||o.mozRequestAnimationFrame||function(t){var e=+new Date,i=Math.max(0,16-(e-r)),o=setTimeout(t,i);return r=e,o},r=+new Date;var a=o.cancelAnimationFrame||o.webkitCancelAnimationFrame||o.mozCancelAnimationFrame||clearTimeout;Function.prototype.bind&&(n=n.bind(o),a=a.bind(o)),(t.exports=n).cancel=a},function(t,e,i){"use strict";
/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */var p=i(1),o=i(11);function g(t,e){var i;return!1!==t.fullWidthBreakoutRowCadence&&(e._rows.length+1)%t.fullWidthBreakoutRowCadence==0&&(i=!0),new o({top:e._containerHeight,left:t.containerPadding.left,width:t.containerWidth-t.containerPadding.left-t.containerPadding.right,spacing:t.boxSpacing.horizontal,targetRowHeight:t.targetRowHeight,targetRowHeightTolerance:t.targetRowHeightTolerance,edgeCaseMinRowHeight:.5*t.targetRowHeight,edgeCaseMaxRowHeight:2*t.targetRowHeight,rightToLeft:!1,isBreakoutRow:i,widowLayoutStyle:t.widowLayoutStyle})}function y(t,e,i){return e._rows.push(i),e._layoutItems=e._layoutItems.concat(i.getItems()),e._containerHeight+=i.height+t.boxSpacing.vertical,i.items}t.exports=function(t,e){var i,o,n,r,a,s,c,u={},l={},h={containerWidth:1060,containerPadding:10,boxSpacing:10,targetRowHeight:320,targetRowHeightTolerance:.25,maxNumRows:Number.POSITIVE_INFINITY,forceAspectRatio:!1,showWidows:!0,fullWidthBreakoutRowCadence:!1,widowLayoutStyle:"left"},f={},d={};return u=p(h,e=e||{}),f.top=isNaN(parseFloat(u.containerPadding.top))?u.containerPadding:u.containerPadding.top,f.right=isNaN(parseFloat(u.containerPadding.right))?u.containerPadding:u.containerPadding.right,f.bottom=isNaN(parseFloat(u.containerPadding.bottom))?u.containerPadding:u.containerPadding.bottom,f.left=isNaN(parseFloat(u.containerPadding.left))?u.containerPadding:u.containerPadding.left,d.horizontal=isNaN(parseFloat(u.boxSpacing.horizontal))?u.boxSpacing:u.boxSpacing.horizontal,d.vertical=isNaN(parseFloat(u.boxSpacing.vertical))?u.boxSpacing:u.boxSpacing.vertical,u.containerPadding=f,u.boxSpacing=d,l._layoutItems=[],l._awakeItems=[],l._inViewportItems=[],l._leadingOrphans=[],l._trailingOrphans=[],l._containerHeight=u.containerPadding.top,l._rows=[],l._orphans=[],u._widowCount=0,i=u,o=l,n=t.map(function(t){return t.width&&t.height?{aspectRatio:t.width/t.height}:{aspectRatio:t}}),c=[],i.forceAspectRatio&&n.forEach(function(t){t.forcedAspectRatio=!0,t.aspectRatio=i.forceAspectRatio}),n.some(function(t,e){if(isNaN(t.aspectRatio))throw new Error("Item "+e+" has an invalid aspect ratio");if(a||(a=g(i,o)),r=a.addItem(t),a.isLayoutComplete()){if(c=c.concat(y(i,o,a)),o._rows.length>=i.maxNumRows)return!(a=null);if(a=g(i,o),!r&&(r=a.addItem(t),a.isLayoutComplete())){if(c=c.concat(y(i,o,a)),o._rows.length>=i.maxNumRows)return!(a=null);a=g(i,o)}}}),a&&a.getItems().length&&i.showWidows&&(o._rows.length?(s=o._rows[o._rows.length-1].isBreakoutRow?o._rows[o._rows.length-1].targetRowHeight:o._rows[o._rows.length-1].height,a.forceComplete(!1,s)):a.forceComplete(!1),c=c.concat(y(i,o,a)),i._widowCount=a.getItems().length),o._containerHeight=o._containerHeight-i.boxSpacing.vertical,o._containerHeight=o._containerHeight+i.containerPadding.bottom,{containerHeight:o._containerHeight,widowCount:i._widowCount,boxes:o._layoutItems}}},function(t,e,i){"use strict";
/*!
 * Copyright 2016 Yahoo Inc.
 * Licensed under the terms of the MIT license. Please see LICENSE file in the project root for terms.
 * @license
 */var c=i(1);(t.exports=function(t){this.top=t.top,this.left=t.left,this.width=t.width,this.spacing=t.spacing,this.targetRowHeight=t.targetRowHeight,this.targetRowHeightTolerance=t.targetRowHeightTolerance,this.minAspectRatio=this.width/t.targetRowHeight*(1-t.targetRowHeightTolerance),this.maxAspectRatio=this.width/t.targetRowHeight*(1+t.targetRowHeightTolerance),this.edgeCaseMinRowHeight=t.edgeCaseMinRowHeight,this.edgeCaseMaxRowHeight=t.edgeCaseMaxRowHeight,this.widowLayoutStyle=t.widowLayoutStyle,this.isBreakoutRow=t.isBreakoutRow,this.items=[],this.height=0}).prototype={addItem:function(t){var e,i,o,n=this.items.concat(t),r=this.width-(n.length-1)*this.spacing,a=n.reduce(function(t,e){return t+e.aspectRatio},0),s=r/this.targetRowHeight;return this.isBreakoutRow&&0===this.items.length&&1<=t.aspectRatio?(this.items.push(t),this.completeLayout(r/t.aspectRatio,"justify"),!0):a<this.minAspectRatio?(this.items.push(c(t)),!0):a>this.maxAspectRatio?0===this.items.length?(this.items.push(c(t)),this.completeLayout(r/a,"justify"),!0):(e=this.width-(this.items.length-1)*this.spacing,i=this.items.reduce(function(t,e){return t+e.aspectRatio},0),o=e/this.targetRowHeight,Math.abs(a-s)>Math.abs(i-o)?(this.completeLayout(e/i,"justify"),!1):(this.items.push(c(t)),this.completeLayout(r/a,"justify"),!0)):(this.items.push(c(t)),this.completeLayout(r/a,"justify"),!0)},isLayoutComplete:function(){return 0<this.height},completeLayout:function(t,e){var i,o,n,r,a,s=this.left,c=this.width-(this.items.length-1)*this.spacing;(void 0===e||["justify","center","left"].indexOf(e)<0)&&(e="left"),t!==(o=Math.max(this.edgeCaseMinRowHeight,Math.min(t,this.edgeCaseMaxRowHeight)))?(this.height=o,i=c/o/(c/t)):(this.height=t,i=1),this.items.forEach(function(t){t.top=this.top,t.width=t.aspectRatio*this.height*i,t.height=this.height,t.left=s,s+=t.width+this.spacing},this),"justify"===e?(s-=this.spacing+this.left,n=(s-this.width)/this.items.length,r=this.items.map(function(t,e){return Math.round((e+1)*n)}),1===this.items.length?this.items[0].width-=Math.round(n):this.items.forEach(function(t,e){0<e?(t.left-=r[e-1],t.width-=r[e]-r[e-1]):t.width-=r[e]})):"center"===e&&(a=(this.width-s)/2,this.items.forEach(function(t){t.left+=a+this.spacing},this))},forceComplete:function(t,e){"number"==typeof e?this.completeLayout(e,this.widowLayoutStyle):this.completeLayout(this.targetRowHeight,this.widowLayoutStyle)},getItems:function(){return this.items}}}]);
//# sourceMappingURL=fjGallery.min.js.map
